<div class="app-container wanconfig-container">
  <div class="header">
    <div class="title-bar">
      <div class="title">{{ 'LAN_CONFIG.TITLE' | translate }}</div>
    </div>
  </div>
  <div class="body" ng-class="{'no-padding-top': $ctrl.diag.status === false}">
    <div class="row" ng-if="$ctrl.diag.status === false">
      <div class="col-sm-12">
        <div class="fail-tip">{{ $ctrl.diag.error }}</div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="section-header">3. {{ 'LAN_CONFIG.INTERFACE' | translate }}</div>
      </div>
    </div>
    <form name="$ctrl.configForm" novalidate autocomplete="off" class="form-horizontal fill-height scroll-y-only">
      <div class="row section-item">
        <div class="col-sm-12">
          <div class="header-underline">
            {{ 'WAN_CONFIG.PYH_INTERFACE' | translate }}
          </div>
        </div>

        <div class="col-sm-12 section-field">
          <div class="oak-field-label">
            <label class="field-label-content">{{ 'WAN_CONFIG.ETH_PORT' | translate }}: <span class="required">*</span></label>
          </div>
          <div class="oak-field-input">
            <select name="eth_config" class="form-control" ng-model="$ctrl.eth_config" ng-options="item as item.display for item in $ctrl.interfaces"
              ng-change="$ctrl.ethChagne()"></select>
          </div>
        </div>
      </div>

      <div class="row section-item">
        <div class="col-sm-12">
          <div class="header-underline">
            {{ 'WAN_CONFIG.IP_CONFIG' | translate }}
          </div>
        </div>
        <div class="col-sm-12 section-field">
          <div class="oak-field-label">
            <label class="field-label-content">{{ 'LAN_CONFIG.IP_ADDR_SUBNET' | translate }}: <span class="required">*</span></label>
          </div>
          <div id="ip-config" class="oak-field-input">
            <div class="ipaddr">
              <input type="text" class="form-control" ng-model="$ctrl.eth_config.ipaddr" ng-required="true" name="ipaddr"
                ng-trim="true" ng-ip-address>
              <div ng-messages="$ctrl.configForm.ipaddr.$error" role="alert" class="error text-align-left" ng-if="($ctrl.configForm.$submitted || $ctrl.configForm.ipaddr.$touched) && $ctrl.configForm.ipaddr.$invalid">
                <div ng-message="ipAddress">
                  <p class="col-tip">
                    <i class="fa fa-times-circle err"></i>{{ 'LAN_CONFIG.VALIDATE.IP_ADDR' | translate }}</p>
                </div>
                <div ng-message="required">
                  <p class="col-tip text-align-left">
                    <i class="fa fa-times-circle err"></i>{{ 'LAN_CONFIG.VALIDATE.IP_ADDR' | translate }}</p>
                </div>
              </div>
              <div ng-messages="$ctrl.configForm.netmask.$error" role="alert" class="error text-align-left" ng-if="($ctrl.configForm.$submitted || $ctrl.configForm.netmask.$touched) && $ctrl.configForm.netmask.$invalid">
                <div ng-message="validNumber">
                  <p class="col-tip">
                    <i class="fa fa-times-circle err"></i>{{ 'LAN_CONFIG.VALIDATE.NETMASK' | translate }}</p>
                </div>
                <div ng-message="required">
                  <p class="col-tip text-align-left">
                    <i class="fa fa-times-circle err"></i>{{ 'COMMON.VALIDATE.REQUIRED' | translate }}</p>
                </div>
              </div>
            </div>
            <div class="split">
              <span>/</span>
            </div>
            <div class="netmask">
              <input type="text" class="form-control" ng-model="$ctrl.data.netmask" ng-required="true" name="netmask"
                ng-trim="true" valid-number="1-32">
            </div>


          </div>
        </div>
      </div>

      <div class="row section-item">
        <div class="col-sm-12">
          <div class="header-underline">
            {{ 'WAN_CONFIG.DHCP_SERVER' | translate }}
          </div>
        </div>
        <div class="col-sm-12 section-field">
          <div class="oak-field-label">
            <label class="field-label-content">{{ 'WAN_CONFIG.STATUS' | translate }}: <span class="required">*</span></label>
          </div>
          <div class="oak-field-input" style="padding-left:5px">
            <label>
              <input type="radio" ng-model="$ctrl.eth_config.dhcp_server_enable" ng-value="'1'">
              <span style="padding-left:3px">{{ 'COMMON.ENABLE' | translate }}</span>
            </label>
            <label style="padding-left:20px">
              <input type="radio" ng-model="$ctrl.eth_config.dhcp_server_enable" ng-value="'0'">
              <span style="padding-left:3px">{{ 'COMMON.DISABLE' | translate }}</span>
            </label>
          </div>
        </div>

        <div class="col-sm-12 section-field">
          <div class="oak-field-label">
            <label class="field-label-content">{{ 'LAN_CONFIG.IP_ADDR_RANGE' | translate }}: <span ng-if="$ctrl.eth_config.dhcp_server_enable === '1'"
                class="required">*</span></label>
          </div>
          <div id="address-range" class="oak-field-input">
            <div class="ip">
              <input type="text" ng-disabled="$ctrl.eth_config.dhcp_server_enable === '0'" class="form-control"
                ng-model="$ctrl.data.dhcp_start_ipaddr" ng-required="$ctrl.eth_config.dhcp_server_enable === '1'" name="dhcp_start_ipaddr"
                ng-trim="true" ng-ip-address>
              <div ng-messages="$ctrl.configForm.dhcp_start_ipaddr.$error" role="alert" class="error text-align-left"
                ng-if="($ctrl.configForm.$submitted || $ctrl.configForm.dhcp_start_ipaddr.$touched) && $ctrl.configForm.dhcp_start_ipaddr.$invalid">
                <div ng-message="ipAddress">
                  <p class="col-tip">
                    <i class="fa fa-times-circle err"></i>{{ 'COMMON.VALIDATE.IP_NOT_CORRECT' | translate }}</p>
                </div>
                <div ng-message="required">
                  <p class="col-tip text-align-left">
                    <i class="fa fa-times-circle err"></i>{{ 'COMMON.VALIDATE.REQUIRED' | translate }}</p>
                </div>
              </div>
            </div>
            <div class="split">
              <span>-</span>
            </div>
            <div class="ip">
              <input type="text" ng-disabled="$ctrl.eth_config.dhcp_server_enable === '0'" class="form-control"
                ng-model="$ctrl.data.dhcp_end_ipaddr" ng-required="$ctrl.eth_config.dhcp_server_enable === '1'" name="dhcp_end_ipaddr"
                ng-trim="true" ng-ip-address>
              <div ng-messages="$ctrl.configForm.dhcp_end_ipaddr.$error" role="alert" class="error text-align-left"
                ng-if="($ctrl.configForm.$submitted || $ctrl.configForm.dhcp_end_ipaddr.$touched) && $ctrl.configForm.dhcp_end_ipaddr.$invalid">
                <div ng-message="ipAddress">
                  <p class="col-tip">
                    <i class="fa fa-times-circle err"></i>{{ 'COMMON.VALIDATE.IP_NOT_CORRECT' | translate }}</p>
                </div>
                <div ng-message="required">
                  <p class="col-tip text-align-left">
                    <i class="fa fa-times-circle err"></i>{{ 'COMMON.VALIDATE.REQUIRED' | translate }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </form>
  </div>
  <div class="footer">
    <button class="btn btn-primary login-btn pull-right" ng-click="$ctrl.next()">{{'COMMON.NEXT' | translate}}</button>
  </div>
</div>